webpackJsonp([1],{"6HoO":function(t,e){},"991W":function(t,e){},DGYS:function(t,e){},ESDK:function(t,e){},GiZK:function(t,e){},HqjF:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",[t._v("BiliBili-趋势(゜-゜)つロ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-menu",{staticClass:"hidden-sm-and-up"},[n("v-btn",{attrs:{slot:"activator",color:"primary"},slot:"activator"},[n("v-icon",[t._v("menu")])],1),t._v(" "),n("v-list",t._l(t.menu,function(e){return n("v-list-tile",{key:e.name},[n("v-list-tile-title",{on:{click:function(n){t.go(e.route)}}},[t._v(t._s(e.name))])],1)}))],1),t._v(" "),t._l(t.menu,function(e){return n("v-toolbar-items",{key:e.name,staticClass:"hidden-xs-only"},[n("v-btn",{attrs:{flat:""},on:{click:function(n){t.go(e.route)}}},[t._v(t._s(e.name))])],1)})],2)},staticRenderFns:[]};var i={components:{MHeader:n("VU/8")({name:"m-header",data:function(){return{menu:[{route:"/main",name:"主站相关"},{route:"/up",name:"Up 相关"}]}},methods:{go:function(t){this.$router.push(t)}}},r,!1,function(t){n("qX3s")},"data-v-7915b3e5",null).exports},name:"App",data:function(){return{}},methods:{}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("m-header"),this._v(" "),e("v-content",[e("v-container",{attrs:{fluid:""}},[e("router-view")],1)],1),this._v(" "),e("v-footer",{attrs:{app:""}},[e("v-layout",{staticClass:"text-sm-center"},[this._v("\n      仅供个人学习使用 "),e("a",{attrs:{target:"_blank",href:"https://github.com/muxi2015/Bilibili-Trend-Client"}},[this._v("源代码")])])],1)],1)},staticRenderFns:[]};var o=n("VU/8")(i,s,!1,function(t){n("mY0C")},null,null).exports,c=n("/ocq"),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",[t._l(t.navInfo,function(e){return[n("v-btn",{key:e.name,attrs:{disabled:"bangumi"===e.router||"cinema"===e.router},on:{click:function(n){t.onChangeMenu(e.router)}}},[t._v(t._s(e.name))])]})],2),t._v(" "),n("v-flex",[n("v-select",{attrs:{items:t.rankInfo,"item-text":"rname","item-value":"mark"},model:{value:t.defaultRank,callback:function(e){t.defaultRank=e},expression:"defaultRank"}})],1)],1)},staticRenderFns:[]};var l=n("VU/8")({name:"rank-menu",methods:{onChangeMenu:function(t){this.$emit("onchangemenu",t)},onChangeRank:function(){this.$emit("onchangerank",this.defaultRank)}},props:["rankInfo"],data:function(){return{finalUrl:"",defaultRank:3,navInfo:[{router:"all",name:"全站榜"},{router:"bangumi",name:"新番榜"},{router:"origin",name:"原创榜"},{router:"cinema",name:"影视榜"},{router:"rookie",name:"新人榜"}]}},beforeCreate:function(){},created:function(){},watch:{$route:function(t,e){this.onChangeRank()},defaultRank:function(){this.onChangeRank()}}},u,!1,function(t){n("UBGP")},"data-v-0b1da3b0",null).exports,h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-btn-toggle",{ref:"btg",on:{change:t.onChange},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[n("v-flex",[t._l(t.tabs,function(e){return[n("v-btn",{key:e.mark,attrs:{flat:""}},[t._v(t._s(e.name))])]})],2)],1)],1)},staticRenderFns:[]};var m=n("VU/8")({name:"rank-tab",methods:{onChange:function(t){this.$emit("onchangetab",this.selectTab)}},props:["tabs"],data:function(){return{selectTab:0}},mounted:function(){},watch:{$route:function(t,e){this.selectTab=0}}},h,!1,function(t){n("HqjF")},"data-v-eadc5bd6",null).exports,p="https://bird.ioliu.cn/v1?url=",f=p+"https://space.bilibili.com/ajax/member/getSubmitVideos?",d=[{mark:0,name:"全站"},{mark:1,name:"动画"},{mark:168,name:"国创相关"},{mark:3,name:"音乐"},{mark:129,name:"舞蹈"},{mark:4,name:"游戏"},{mark:36,name:"科技"},{mark:160,name:"生活"},{mark:119,name:"鬼畜"},{mark:155,name:"时尚"},{mark:5,name:"娱乐"},{mark:181,name:"影视"}],v=[{mark:13,name:"番剧"},{mark:167,name:"国产动画"}],b=[{mark:177,name:"纪录片"},{mark:23,name:"电影"},{mark:11,name:"电视剧"}],k=[{rname:"三日内",mark:3},{rname:"日排行",mark:1},{rname:"周排行",mark:7},{rname:"月排行",mark:30}],g=[{rname:"三日内",mark:3},{rname:"周排行",mark:7}],y=n("Dd8w"),x=n.n(y),_=n("NYxO"),R=n("XLwt"),w=n("M4fF"),U={name:"rankList",data:function(){return{}},beforeCreate:function(){},computed:x()({},Object(_.b)(["RankList"])),watch:{RankList:function(){R.init(this.$refs.container).setOption({title:{text:"图表如下"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["播放","收藏","硬币","评论"]},dataZoom:[{type:"slider",start:0,end:8}],xAxis:[{type:"category",data:w.map(this.RankList,"title"),zlevel:1,axisLabel:{interval:0,rotate:90,inside:!0}}],yAxis:[{type:"value"}],series:[{name:"播放",type:"bar",label:"搜索引擎",data:w.map(this.RankList,"play")},{name:"硬币",type:"bar",label:"搜索引擎",data:w.map(this.RankList,"coins")},{name:"评论",type:"bar",label:"搜索引擎",data:w.map(this.RankList,"video_review")}]})}}},L={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"container",staticStyle:{width:"100%",height:"400px",padding:"20px 0 0 0"}})},staticRenderFns:[]};var S=n("VU/8")(U,L,!1,function(t){n("DGYS")},"data-v-15df342a",null).exports,$={name:"m-main",components:{RankList:S,RankTab:m,RankMenu:l},created:function(){this.$store.dispatch("getRankListAction",this.$route.name+"-"+this.rank+"-0.json")},data:function(){return{tabs:d,selectTab:0,rankInfo:k,rank:3,tab:0,REQ_URL:""}},methods:{changeMenu:function(t){this.$router.push("/main/"+t)},changeTab:function(t){this.selectTab=t,this.tab=this.tabs[t].mark,this.REQ_URL=this.$route.name+"-"+this.rank+"-"+this.tab},changeRank:function(t){this.rank=t,this.REQ_URL=this.$route.name+"-"+this.rank+"-"+this.tab}},watch:{REQ_URL:function(){this.$store.dispatch("getRankListAction",this.REQ_URL+".json")},$route:function(t,e){switch(this.REQ_URL=this.$route.name+"-"+this.rank+"-"+this.tab,this.$route.name){case"all":this.rankInfo=k,this.tabs=d;break;case"bangumi":this.rankInfo=g,this.tabs=v;break;case"rookie":case"origin":this.rankInfo=k,this.tabs=d;break;case"cinema":this.rankInfo=k,this.tabs=b;break;default:this.rankInfo=k,this.tabs=d}}}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-layout",{attrs:{column:""}},[e("rank-menu",{attrs:{"rank-info":this.rankInfo},on:{onchangerank:this.changeRank,onchangemenu:this.changeMenu}}),this._v(" "),e("rank-tab",{attrs:{tabs:this.tabs},on:{onchangetab:this.changeTab}})],1),this._v(" "),e("v-layout",[e("rank-list")],1)],1)},staticRenderFns:[]};var A=n("VU/8")($,I,!1,function(t){n("ESDK")},"data-v-39564384",null).exports,C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",t._l(t.routerInfo,function(e){return n("v-flex",{key:e.router,attrs:{xs3:"",sm2:"",md2:"",lg2:""}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(n){t.go(e.router)}}},[t._v(t._s(e.name))])],1)})),t._v(" "),n("v-layout",[n("router-view")],1)],1)},staticRenderFns:[]};var D=n("VU/8")({components:{},name:"up",data:function(){return{routerInfo:[{name:"查看历史最高",router:"/up/top/"},{name:"对比 UP 信息",router:"/up/difference/"}]}},methods:{go:function(t){this.$router.push(t)}},beforeCreate:function(){this.$store.dispatch("getMainSiteRankAction")}},C,!1,function(t){n("qPdb")},"data-v-3b894ca3",null).exports,E=n("BO1k"),F=n.n(E),M={name:"inputUpInfo",data:function(){return{name:"",uid:"423895",search:null}},methods:{onUid:function(){this.$store.dispatch("getUpDetailAction",this.uid)},query:function(t){this.$store.dispatch("getSearchUserRecAction",t)},onName:function(){console.log(this.RecUp),console.log(this.RecUpMID[this.RecUp.indexOf(this.name)])}},watch:{search:function(t){t&&this.query(t)}},computed:x()({},Object(_.b)(["RecUp","RecUpMID"]))},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:"",sm2:"",md4:"",lg4:""}},[n("v-text-field",{attrs:{name:"upid",placeholder:"请输入 UP 主 ID"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onUid(e)}},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),t._v(" "),n("v-flex",{attrs:{xs4:"",sm2:""}},[n("v-btn",{on:{click:t.onUid}},[t._v("确定")])],1),t._v(" "),n("v-flex",{attrs:{xs6:"",sm3:"",md4:"",lg4:""}},[n("v-select",{attrs:{autocomplete:"","cache-items":"","search-input":t.search,items:t.RecUp,label:"尝试直接输入 UP 主昵称",disabled:!0},on:{"update:searchInput":function(e){t.search=e}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{attrs:{disabled:!0},on:{click:t.onName}},[t._v("暂时无法使用")])],1)],1)},staticRenderFns:[]};var j={name:"play-count",components:{InputUpInfo:n("VU/8")(M,P,!1,function(t){n("aDgW")},"data-v-bd02ffea",null).exports},data:function(){return{img:null,titles:[],seriesData:[],num:10}},mounted:function(){this.img=this.$refs.img},watch:{},computed:x()({},Object(_.b)(["Up","Loading"])),methods:{asc:function(){this.titles=[],this.seriesData=[];var t=this;return{byPlayCount:function(){var e=!0,n=!1,a=void 0;try{for(var r,i=F()(t.Up.asc().byPlayCount().slice(0,t.num));!(e=(r=i.next()).done);e=!0){var s=r.value;t.titles.push(s.title),t.seriesData.push(s.play)}}catch(t){n=!0,a=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw a}}t.initEcharts()},byFavorite:function(){var e=!0,n=!1,a=void 0;try{for(var r,i=F()(t.Up.asc().byFavorite().slice(0,t.num));!(e=(r=i.next()).done);e=!0){var s=r.value;t.titles.push(s.title),t.seriesData.push(s.favorites)}}catch(t){n=!0,a=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw a}}t.initEcharts()}}},initEcharts:function(){R.init(this.img).setOption({align:"left",verticalAlign:"middle",position:"insideBottom",title:{text:this.Up.name+"视频热度排行",subtext:"副标题"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"0%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:this.titles,nameRotate:"80%"},series:[{name:this.Up.name,type:"bar",data:this.seriesData}]})}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",[n("input-up-info")],1),t._v(" "),n("v-layout",[n("v-flex",{attrs:{sm:"5"}},[n("v-text-field",{attrs:{type:"number",disabled:t.Loading,placeholder:"要查看的数量"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),n("v-flex",[n("v-btn",{attrs:{disabled:t.Loading},on:{click:function(e){t.asc().byFavorite()}}},[t._v("按收藏查看")]),t._v(" "),n("v-btn",{attrs:{disabled:t.Loading},on:{click:function(e){t.asc().byPlayCount()}}},[t._v("按播放量查看")])],1)],1),t._v(" "),n("div",{ref:"img",staticStyle:{width:"100%",height:"600px"}})],1)},staticRenderFns:[]};var B=n("VU/8")(j,T,!1,function(t){n("6HoO")},"data-v-9e8c55d2",null).exports,V={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var q=n("VU/8")({name:"Difference"},V,!1,function(t){n("aIaS")},"data-v-1badd4f5",null).exports;a.a.use(c.a);var O,G,H=new c.a({base:"/Bilibili-Trend-Client/",mode:"history",routes:[{path:"/main",component:A,name:"m-main",children:[{path:"all",component:S,name:"all"},{path:"bangumi",component:S,name:"bangumi"},{path:"origin",component:S,name:"origin"},{path:"cinema",component:S,name:"cinema"},{path:"rookie",component:S,name:"rookie"},{path:"",redirect:"all"}]},{path:"/up",component:D,children:[{path:"top",component:B},{path:"difference",component:q}]},{path:"/",redirect:"/main/all"}]}),W=n("3EgV"),Q=n.n(W),N={Up:null,RecUp:[],RecUpMID:[],Loading:!1,Error:!1,SearchUserRec:[],RankList:[]},Y=n("Xxa5"),K=n.n(Y),X=n("exGp"),Z=n.n(X),z=n("mtWM"),J=n.n(z),tt=n("Zrlr"),et=n.n(tt),nt=n("wxAW"),at=n.n(nt),rt=function(){function t(){et()(this,t),this.comment=1318,this.play=490812,this.favorites=0,this.pic="//i2.hdslb.com/bfs/archive/568ac3bf323356d2bfc53624ae0960a215335c61.jpg",this.description="自制 大炮疯脸雷锤圣剑就是一个站撸",this.title="王老菊的血源之旅10：中出宇宙大鱿鱼",this.author="怕上火暴王老菊"}return at()(t,[{key:"init",value:function(t){this.author=t.author,this.comment=t.comment,this.description=t.description,this.pic=t.pic,this.title=t.title,this.play=t.play,this.created=t.created,this.favorites=t.favorites}}]),t}(),it=function(){function t(){et()(this,t),this.name="",this.created=0,this.rawAllList=[]}return at()(t,[{key:"asc",value:function(t){var e=this;return{byPlayCount:function(){return w.sortBy(e.rawAllList,function(t){return-t.play})},byFavorite:function(){return w.sortBy(e.rawAllList,function(t){return-t.favorites})}}}},{key:"desc",value:function(){var t=this;return{byPlayCount:function(){return w.sortBy(t.rawAllList,function(t){return t.play})},byFavorite:function(){return w.sortBy(t.rawAllList,function(t){return t.favorites})}}}},{key:"playCount",get:function(){var t=0;return this.rawAllList.map(function(e){t+=e.play}),t}},{key:"favoritersCount",get:function(){var t=0;return this.rawAllList.map(function(e){t+=e.favorites}),t}}]),t}(),st=(O=Z()(K.a.mark(function t(e){var n;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.get(f,{params:{mid:e,pagesize:100}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)})),function(t){return O.apply(this,arguments)}),ot=(G=Z()(K.a.mark(function t(e){var n;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("https://bird.ioliu.cn/v1?url=https://search.bilibili.com/api/search?",{params:{search_type:"bili_user",keyword:e}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)})),function(){var t=Z()(K.a.mark(function t(e){var n,a,r,i,s,o,c,u;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],a=!0,r=!1,i=void 0,t.prev=4,s=F()(e);!(a=(o=s.next()).done);a=!0)c=o.value,(u=new rt).init(c),n.push(u);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),r=!0,i=t.t0;case 12:t.prev=12,t.prev=13,!a&&s.return&&s.return();case 15:if(t.prev=15,!r){t.next=18;break}throw i;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(e){return t.apply(this,arguments)}}()),ct=function(){var t=Z()(K.a.mark(function t(e,n){var a;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.get(f,{params:{mid:e,page:n,pagesize:100}});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();var ut,lt,ht,mt,pt=(ut=Z()(K.a.mark(function t(e){var n,a,r,i,s;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new it,a=!1,r=0,t.next=5,st(e).then(function(t){var e=t.data;0===(r=e.data.pages)&&(a=!0)});case 5:if(!a){t.next=7;break}return t.abrupt("return","该 Up 暂未投稿");case 7:i=[],s=1;case 9:if(!(s<=r)){t.next=15;break}return t.next=12,ct(e,s).then(function(t){var e=t.data,n=!0,a=!1,r=void 0;try{for(var s,o=F()(e.data.vlist);!(n=(s=o.next()).done);n=!0){var c=s.value;i.push(c)}}catch(t){a=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}});case 12:s++,t.next=9;break;case 15:return t.next=17,ot(i);case 17:return n.rawAllList=t.sent,n.name=i[0].author,t.abrupt("return",n);case 20:case"end":return t.stop()}},t,this)})),function(t){return ut.apply(this,arguments)}),ft=(lt=Z()(K.a.mark(function t(e){var n,a;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("https://bird.ioliu.cn/v1?url=https://search.bilibili.com/api/search?search_type=bili_user",{params:{keyword:e}});case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)})),function(t){return lt.apply(this,arguments)}),dt=function(){var t=Z()(K.a.mark(function t(e,n){var a,r,i=e.commit;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.get("https://bird.ioliu.cn/v1?url=https://www.bilibili.com/index/rank/"+n);case 2:a=t.sent,r=a.data,i("changeRankListState",r.rank.list);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),vt={getUpDetailAction:(ht=Z()(K.a.mark(function t(e,n){var a,r=e.commit;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("changeLoadingState",!0),t.next=3,pt(n);case 3:a=t.sent,r("changeUpState",a),r("changeLoadingState",!1);case 6:case"end":return t.stop()}},t,this)})),function(t,e){return ht.apply(this,arguments)}),getSearchUserRecAction:function(){var t=Z()(K.a.mark(function t(e,n){var a,r,i;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit("changeLoadingState",!0),t.next=3,ft(n);case 3:a=t.sent,r=[],i=[],a.result.map(function(t){r.push(t.uname),i.push(t.mid)}),r=w.uniq(r),e.commit("changeRecUpState",r),e.commit("changeRecUpMIDState",i);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getMainSiteRankAction:(mt=Z()(K.a.mark(function t(e){var n,a,r,i;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit("changeLoadingState",!0),t.next=3,J.a.get("https://bird.ioliu.cn/v1?url=https://www.bilibili.com/index/rank/all-30-0.json");case 3:n=t.sent,a=n.data,r=[],i=[],a.rank.list.map(function(t){r.push(t.author),i.push(t.mid)}),r=w.uniq(r),e.commit("changeRecUpState",r),e.commit("changeRecUpMIDState",i);case 11:case"end":return t.stop()}},t,this)})),function(t){return mt.apply(this,arguments)}),getRankListAction:dt},bt={changeUpState:function(t,e){t.Up=e},changeRecUpState:function(t,e){t.RecUp=e},changeRecUpMIDState:function(t,e){t.RecUpMID=e},changeLoadingState:function(t,e){t.Loading=e},changeRankListState:function(t,e){t.RankList=e},changeSearchUserRecState:function(t,e){t.SearchUserRec=e}};a.a.use(_.a);var kt=new _.a.Store({state:N,actions:vt,getters:{},mutations:bt,strict:!1});n("j1ja"),n("991W"),n("GiZK");a.a.use(Q.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:H,store:kt,components:{App:o},template:"<App/>"})},UBGP:function(t,e){},aDgW:function(t,e){},aIaS:function(t,e){},mY0C:function(t,e){},qPdb:function(t,e){},qX3s:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.18dc6513529bfd1d82c4.js.map